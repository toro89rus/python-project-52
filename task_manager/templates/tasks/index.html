{% extends "core/base.html" %}
{% load i18n %}

{% load django_bootstrap5 %}
{% bootstrap_css %}
{% bootstrap_javascript %}

{% block content %}
  <h1 class="my-4">{% trans "Tasks"%}</h1>
  <a class="btn btn-primary mb-3" href="{% url "tasks_create" %}" role="button">{% trans "Create a task"%}</a>
  {% include "tasks/filter_form.html" %}
  <table class="table table-striped">
    <thead>
      <tr>
        <th>ID</th>
        <th>{% trans "Name" %}</th>
        <th>{% trans "Status"%}</th>
        <th>{% trans "Author" %}</th>
        <th>{% trans "Executor" %}</th>
        <th>{% trans "Creation date" %}</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
        {% for task in tasks %}
      <tr>
        <td>{{ task.pk }}</td>
        <td>
          <a href="{% url "tasks_detail" task.pk %}">{{ task.name }}</a>
          </td>
        <td>{{ task.status }}</td>
        <td>{{ task.author }}</td>
        <td>{{ task.executor }}</td>
        <td>{{ task.created_at|date:"d.m.Y H:m" }}</td>
        <td>
          <a href="{% url "tasks_update" task.pk%}">{% trans "Edit" %}</a>
          <br />
          <a href="{% url "tasks_delete" task.pk%}">{% trans "Delete" %}</a>
        </td>
      </tr>
        {% endfor %}
    </tbody>
  </table>
{% endblock %}
